# ๐ณ ุฏููู Docker ูููุดุฑูุน

## ูุธุฑุฉ ุนุงูุฉ

ูุฐุง ุงููุดุฑูุน ูุณุชุฎุฏู Docker ูุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ูู ุจูุฆุฉ ูุนุฒููุฉ ููุชุณูุฉ.

## ุงูุฎุฏูุงุช ุงููุชุงุญุฉ

### ๐ง ุงูุจุงู ุฅูุฏ (API)
- **ุงููููุฐ:** 3000
- **ุงูุฑุงุจุท:** http://localhost:3000
- **ุงููุซุงุฆู:** http://localhost:3000/docs (Swagger)

### ๐ ุงูููุจ ุณุงูุช (Website)
- **ุงููููุฐ:** 3001
- **ุงูุฑุงุจุท:** http://localhost:3001
- **ุงูุชูููุฉ:** Next.js 15

### ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช (MongoDB)
- **ุงููููุฐ:** 27017
- **ุงูุฑุงุจุท:** mongodb://localhost:27017

### โก Redis
- **ุงููููุฐ:** 6379
- **ุงูุฑุงุจุท:** redis://localhost:6379

### ๐ง MailHog (ููุชุทููุฑ ููุท)
- **ุงููููุฐ:** 8025
- **ุงูุฑุงุจุท:** http://localhost:8025

## ๐ ุงูุชุดุบูู

### ุงูุชุทููุฑ (Development)

```bash
# ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ููุชุทููุฑ
docker-compose -f docker-compose.dev.yml up

# ุชุดุบูู ูู ุงูุฎูููุฉ
docker-compose -f docker-compose.dev.yml up -d

# ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑ
docker-compose -f docker-compose.dev.yml up --build

# ุฅููุงู ุงูุฎุฏูุงุช
docker-compose -f docker-compose.dev.yml down
```

### ุงูุฅูุชุงุฌ (Production)

```bash
# ุชุดุบูู ุฌููุน ุงูุฎุฏูุงุช ููุฅูุชุงุฌ
docker-compose -f docker-compose.prod.yml up

# ุชุดุบูู ูู ุงูุฎูููุฉ
docker-compose -f docker-compose.prod.yml up -d

# ุฅุนุงุฏุฉ ุจูุงุก ุงูุตูุฑ
docker-compose -f docker-compose.prod.yml up --build

# ุฅููุงู ุงูุฎุฏูุงุช
docker-compose -f docker-compose.prod.yml down
```

## ๐ ูููู ุงููููุงุช

```
project/
โโโ docker-compose.yml          # ุงูุชูููู ุงูุฃุณุงุณู
โโโ docker-compose.dev.yml      # ุชูููู ุงูุชุทููุฑ
โโโ docker-compose.prod.yml     # ุชูููู ุงูุฅูุชุงุฌ
โโโ clinic-api/                 # ุงูุจุงู ุฅูุฏ
โ   โโโ Dockerfile
โโโ websit/                     # ุงูููุจ ุณุงูุช
โ   โโโ .docker/
โ   โ   โโโ Dockerfile.dev      # Docker ููุชุทููุฑ
โ   โ   โโโ Dockerfile.prod     # Docker ููุฅูุชุงุฌ
โ   โโโ .dockerignore
โโโ DOCKER_README.md            # ูุฐุง ุงูููู
```

## ๐ง ุงูุฃูุงูุฑ ุงููููุฏุฉ

### ุฅุฏุงุฑุฉ ุงูุญุงููุงุช

```bash
# ุนุฑุถ ุงูุญุงููุงุช ุงููุดุทุฉ
docker ps

# ุนุฑุถ ุฌููุน ุงูุญุงููุงุช
docker ps -a

# ุฅููุงู ุญุงููุฉ ูุญุฏุฏุฉ
docker stop <container_name>

# ุฅุนุงุฏุฉ ุชุดุบูู ุญุงููุฉ
docker restart <container_name>

# ุญุฐู ุญุงููุฉ
docker rm <container_name>
```

### ุฅุฏุงุฑุฉ ุงูุตูุฑ

```bash
# ุนุฑุถ ุงูุตูุฑ
docker images

# ุญุฐู ุตูุฑุฉ
docker rmi <image_name>

# ุฅุนุงุฏุฉ ุจูุงุก ุตูุฑุฉ ูุญุฏุฏุฉ
docker-compose build <service_name>
```

### ุฅุฏุงุฑุฉ ุงูุจูุงูุงุช

```bash
# ุนุฑุถ ุงูุญุฌู ุงููุณุชุฎุฏู
docker system df

# ุชูุธูู ุงูุจูุงูุงุช ุบูุฑ ุงููุณุชุฎุฏูุฉ
docker system prune

# ุญุฐู ุฌููุน ุงูุจูุงูุงุช
docker system prune -a
```

## ๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ

### ููููุจ ุณุงูุช

```env
NODE_ENV=development
NEXT_PUBLIC_API_URL=http://localhost:3000/v1
NEXT_PUBLIC_SITE_URL=http://localhost:3001
NEXT_PUBLIC_SITE_NAME=ุนูุงุฏุฉ ุฐููุฉ
```

### ููุจุงู ุฅูุฏ

```env
NODE_ENV=development
PORT=3000
MONGO_URI=mongodb://mongo:27017/clinic
REDIS_URL=redis://redis:6379
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ูุดุงูู ุดุงุฆุนุฉ

1. **ุงูููุงูุฐ ูุดุบููุฉ:**
   ```bash
   # ุชุญูู ูู ุงูููุงูุฐ ุงููุณุชุฎุฏูุฉ
   netstat -tulpn | grep :3000
   netstat -tulpn | grep :3001
   ```

2. **ูุดุงูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```bash
   # ุฅุนุงุฏุฉ ุชุดุบูู MongoDB
   docker-compose restart mongo
   ```

3. **ูุดุงูู ูู Redis:**
   ```bash
   # ุฅุนุงุฏุฉ ุชุดุบูู Redis
   docker-compose restart redis
   ```

### ุนุฑุถ ุงูุณุฌูุงุช

```bash
# ุนุฑุถ ุณุฌูุงุช ุฌููุน ุงูุฎุฏูุงุช
docker-compose logs

# ุนุฑุถ ุณุฌูุงุช ุฎุฏูุฉ ูุญุฏุฏุฉ
docker-compose logs <service_name>

# ูุชุงุจุนุฉ ุงูุณุฌูุงุช
docker-compose logs -f <service_name>
```

## ๐ ูุฑุงูุจุฉ ุงูุฃุฏุงุก

```bash
# ุนุฑุถ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ
docker stats

# ุนุฑุถ ุชูุงุตูู ุญุงููุฉ
docker inspect <container_name>
```

## ๐ ุงูุชุญุฏูุซุงุช

```bash
# ุณุญุจ ุฃุญุฏุซ ุงูุตูุฑ
docker-compose pull

# ุฅุนุงุฏุฉ ุจูุงุก ูุชุดุบูู
docker-compose up --build

# ุฅุนุงุฏุฉ ุชุดุบูู ุฎุฏูุฉ ูุญุฏุฏุฉ
docker-compose restart <service_name>
```

## ๐งน ุงูุชูุธูู

```bash
# ุฅููุงู ูุญุฐู ุงูุญุงููุงุช
docker-compose down

# ุญุฐู ุงูุญุงููุงุช ูุงูุญุฌู
docker-compose down -v

# ุญุฐู ุงูุตูุฑ ุฃูุถุงู
docker-compose down --rmi all
```

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุจูุงูุงุช:** ูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB ุชุญูุธ ุงูุจูุงูุงุช ูู volume ูุฎุตุต
2. **ุงูุชุทููุฑ:** ูู ูุถุน ุงูุชุทููุฑุ ูุชู ุฑุจุท ูููุงุช ุงููุดุฑูุน ูุจุงุดุฑุฉ
3. **ุงูุฅูุชุงุฌ:** ูู ูุถุน ุงูุฅูุชุงุฌุ ูุชู ุจูุงุก ุงูุตูุฑ ูุน ุงูููุฏ ุงููุฏูุฌ
4. **ุงูุฃูุงู:** ุชุฃูุฏ ูู ุชุญุฏูุซ ูููุงุช ุงููุฑูุฑ ูู ุงูุฅูุชุงุฌ
5. **ุงููุณุฎ ุงูุงุญุชูุงุทู:** ูู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงูุชุธุงู

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ูุดุงูู:

1. ุชุญูู ูู ุงูุณุฌูุงุช: `docker-compose logs`
2. ุชุฃูุฏ ูู ุฃู ุงูููุงูุฐ ูุชุงุญุฉ
3. ุชุญูู ูู ูุชุบูุฑุงุช ุงูุจูุฆุฉ
4. ุฃุนุฏ ุจูุงุก ุงูุตูุฑ: `docker-compose up --build`

---

**ุชู ุชุทููุฑู ุจู โค๏ธ ูุฎุฏูุฉ ุงูุฑุนุงูุฉ ุงูุตุญูุฉ**
